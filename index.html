<!DOCTYPE html>
<html>
<head>
  <title>‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏ú‡πà‡∏≤‡∏ô LINE</title>
  <meta charset="UTF-8">
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body style="margin:0;padding:0;">
  <iframe id="form" width="100%" height="100%" style="border:none;"></iframe>

  <script>
    async function main() {
      await liff.init({ liffId: "2007374280-GEYwyNdl" }); // üëà ‡πÉ‡∏™‡πà LIFF ID

      if (!liff.isLoggedIn()) {
        liff.login();
        return;
      }

      const profile = await liff.getProfile();
      const userId = profile.userId;

      // Google Form URL ‡∏ó‡∏µ‡πà‡∏°‡∏µ entry ‡∏Ç‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á userId
      const formBase = "https://docs.google.com/forms/d/e/1FAIpQLSc2cFA3D6Qzp3WGoUKAfVymNQmW4ozIb8cpL1EwiQJNbBCSoA/viewform?usp=header";
      const entryUserId = "U61f2a48ea934bd4438d0f2cb58aa46a2"; // üëà ‡πÉ‡∏™‡πà entry ‡∏Ç‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á LINE_USER_ID
      const formURL = `${formBase}?usp=pp_url&${entryUserId}=${userId}`;

      document.getElementById("form").src = formURL;
    }

    main();
  </script>
</body>
</html>
